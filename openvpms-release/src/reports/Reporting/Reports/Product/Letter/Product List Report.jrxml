<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Version: 1.0
  ~
  ~ The contents of this file are subject to the OpenVPMS License Version
  ~ 1.0 (the 'License'); you may not use this file except in compliance with
  ~ the License. You may obtain a copy of the License at
  ~ http://www.openvpms.org/license/
  ~
  ~ Software distributed under the License is distributed on an 'AS IS' basis,
  ~ WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
  ~ for the specific language governing rights and limitations under the
  ~ License.
  ~
  ~ Copyright 2017 (C) OpenVPMS Ltd. All Rights Reserved.
  -->

<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Product List report" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="550" leftMargin="31" rightMargin="31" topMargin="19" bottomMargin="19" uuid="f2f2a9da-9b68-485a-9a68-babbf927a71c">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="2.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="OpenVPMS"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="Base" isDefault="true" hTextAlign="Left" hImageAlign="Left" vTextAlign="Middle" vImageAlign="Middle" fontName="DejaVu Sans" fontSize="9"/>
	<parameter name="IsEmail" class="java.lang.Boolean" isForPrompting="false">
		<parameterDescription><![CDATA[If true, indicates the report is being emailed, to enable different formatting]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<parameter name="Product Name" class="java.lang.String">
		<parameterDescription><![CDATA[Product Name]]></parameterDescription>
	</parameter>
	<parameter name="Product Type" class="java.lang.String">
		<parameterDescription><![CDATA[Product Type]]></parameterDescription>
	</parameter>
	<parameter name="Classification" class="java.lang.String">
		<parameterDescription><![CDATA[Classification]]></parameterDescription>
	</parameter>
	<parameter name="Pricing Group" class="java.lang.String">
		<parameterDescription><![CDATA[Pricing Group]]></parameterDescription>
	</parameter>
	<parameter name="Low Markup" class="java.math.BigDecimal">
		<parameterDescription><![CDATA[Markup from]]></parameterDescription>
		<defaultValueExpression><![CDATA[new BigDecimal("0.0")]]></defaultValueExpression>
	</parameter>
	<parameter name="High Markup" class="java.math.BigDecimal">
		<parameterDescription><![CDATA[Markup to]]></parameterDescription>
		<defaultValueExpression><![CDATA[new BigDecimal("999.0")]]></defaultValueExpression>
	</parameter>
	<parameter name="IncServices" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Services]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncMedications" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Medications]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncMerchandise" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Merchandise]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncTax" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Tax]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="Show Classifications" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Show Classifications]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<parameter name="Show Prices" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Show Prices]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="Explain" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Display explanation]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select e.entity_id as pid,
       e.name as product, e.arch_short_name as archetype,
       pp.type as priceType,
       pp.name as priceName, pp.price as price,
       pp.start_time as startDate,
       pp.end_time as endDate,
       pp.markup as markup,
       pp.cost as cost,
       uom.name as uom,
       pt.name as prodType,
       pp.lkid as linkID,
       pp.ppgName as pricingGroup,
       group_concat(lc.name order by lc.name asc) as classifications
from   entities e
inner join products p
       on e.entity_id = p.product_id
left join entity_links r
       on e.entity_id = r.source_id and r.arch_short_name = "entityLink.productType"
left join entities pt
       on r.target_id = pt.entity_id
left join entity_details d1 on d1.entity_id = e.entity_id and d1.name = "sellingUnits"
left join lookups uom on uom.arch_short_name = "lookup.uom" and uom.code = d1.value

left join entity_classifications ec on ec.entity_id = e.entity_id
left join lookups lc on lc.lookup_id = ec.lookup_id
	and (lc.arch_short_name = 'lookup.productGroup' or lc.arch_short_name = 'lookup.productIncomeType')

left join (
		select pp.product_price_id as ppid, pp.price as price, e.entity_id as pid, 
			pp.start_time, pp.end_time, pp.name, ppg.name as ppgName, null as lkid,
			if(pp.arch_short_name="productPrice.fixedPrice","F",if(pp.arch_short_name="productPrice.unitPrice","U","?"))  as type,
			cast(d1.value  as decimal(18,3)) as markup, 
			cast(d3.value as decimal(18,3)) as cost

		from products p
		join entities e on p.product_id = e.entity_id 
		join product_prices pp on e.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= now()) and (pp.end_time is null or pp.end_time > now()))
		left join product_price_details d1
			   on d1.product_price_id = pp.product_price_id and d1.name = "markup"
		left join product_price_details d3
			   on d3.product_price_id = pp.product_price_id and d3.name = "cost"
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
	union
		select pp.product_price_id as ppid, pp.price as price, e.entity_id as pid, 
			pp.start_time, pp.end_time, pp.name, ppg.name as ppgName, pt.entity_id as lkid,
			if(pp.arch_short_name="productPrice.fixedPrice","L",if(pp.arch_short_name="productPrice.unitPrice","LU","?"))  as type,
			cast(d1.value  as decimal(18,3)) as markup, 
			cast(d3.value as decimal(18,3)) as cost
		from products p
		join entities e on p.product_id = e.entity_id 
		join entity_relationships erl on erl.source_id = e.entity_id and erl.arch_short_name = 'entityRelationship.productLink'
		join entities pt on pt.entity_id = erl.target_id
		join product_prices pp on pt.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= now()) and (pp.end_time is null or pp.end_time > now()))
		left join product_price_details d1
			   on d1.product_price_id = pp.product_price_id and d1.name = "markup"
		left join product_price_details d3
			   on d3.product_price_id = pp.product_price_id and d3.name = "cost"
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
	) as pp on pp.pid = e.entity_id

where e.active = true
  and ((substring($P{Product Name},1,1)="!" and ifnull(e.name,"--NONE--")  not like concat(substring($P{Product Name},2),"%") ) or
    	   ( ifnull(e.name,"--NONE--") like  concat(ifnull($P{Product Name},""),"%") )
    	  )
  and ((substring($P{Product Type},1,1)="!" and ifnull(pt.name,"--NONE--")  not like concat(substring($P{Product Type},2),"%") ) or
    	   ( ifnull(pt.name,"--NONE--") like  concat(ifnull($P{Product Type},""),"%") )
    	  )
  and ((substring($P{Pricing Group},1,1)="!" and ifnull(pp.ppgName,"--NONE--")  not like concat(substring($P{Pricing Group},2),"%") ) or
    	   ( ifnull(pp.ppgName,"--NONE--") like  concat(ifnull($P{Pricing Group},""),"%") )
    	  )
  and ((substring($P{Classification},1,1)="!" and ifnull(lc.name,"--NONE--")  not like concat(substring($P{Classification},2),"%") ) or
    	   ( ifnull(lc.name,"--NONE--") like  concat(ifnull($P{Classification},""),"%") )
    	  )
  and (
	(e.arch_short_name = "product.service" and $P{IncServices}) or
	(e.arch_short_name = "product.medication" and $P{IncMedications}) or
	(e.arch_short_name = "product.merchandise" and $P{IncMerchandise})
	) 
 	and ((isnull(pp.markup) or (pp.markup >=  $P{Low Markup} and pp.markup <=  $P{High Markup})))
 	
group by e.entity_id, pp.ppid
order by pt.name, e.name,   pp.type, pp.name, pp.ppgName]]>
	</queryString>
	<field name="pid" class="java.lang.Long"/>
	<field name="product" class="java.lang.String"/>
	<field name="archetype" class="java.lang.String"/>
	<field name="priceType" class="java.lang.String"/>
	<field name="priceName" class="java.lang.String"/>
	<field name="price" class="java.math.BigDecimal"/>
	<field name="startDate" class="java.sql.Timestamp"/>
	<field name="endDate" class="java.sql.Timestamp"/>
	<field name="markup" class="java.math.BigDecimal"/>
	<field name="cost" class="java.math.BigDecimal"/>
	<field name="uom" class="java.lang.String"/>
	<field name="prodType" class="java.lang.String"/>
	<field name="linkID" class="java.lang.Long"/>
	<field name="pricingGroup" class="java.lang.String"/>
	<field name="classifications" class="java.lang.String"/>
	<variable name="currentPage" class="java.lang.Integer" resetType="Page">
		<variableExpression><![CDATA[$V{PAGE_NUMBER}]]></variableExpression>
	</variable>
	<variable name="totalProducts" class="java.lang.Integer" incrementType="Group" incrementGroup="product" calculation="Count">
		<variableExpression><![CDATA[$F{pid}]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="PRICE" class="java.math.BigDecimal">
		<variableExpression><![CDATA[EVALUATE("product:price($F.pid, $F.price, $P.IncTax)")]]></variableExpression>
	</variable>
	<variable name="prodCount" class="java.lang.Integer" resetType="Group" resetGroup="ProdType Group" calculation="Count">
		<variableExpression><![CDATA[$F{pid}]]></variableExpression>
	</variable>
	<group name="ProdType Group" isReprintHeaderOnEachPage="true" minHeightToStartNewPage="30">
		<groupExpression><![CDATA[$F{prodType}]]></groupExpression>
		<groupHeader>
			<band height="16">
				<textField isBlankWhenNull="true">
					<reportElement key="textField" x="0" y="0" width="278" height="16" printWhenGroupChanges="ProdType Group" uuid="7898d27b-bac4-4fcb-b9ab-7b4c792c8df8">
						<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<font isBold="true"/>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{prodType}==null)?"--None--":$F{prodType}+(($V{prodCount}==null)?"":" (cont)")]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
	</group>
	<group name="product">
		<groupExpression><![CDATA[$F{pid}]]></groupExpression>
		<groupHeader>
			<band height="13" splitType="Stretch">
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="26" y="0" width="250" height="12" uuid="ba8f8dce-a48b-433c-9cdf-8a87fd3a380a">
						<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{product}+" ("+$F{pid}.toString()+")"]]></textFieldExpression>
				</textField>
				<textField evaluationTime="Group" evaluationGroup="product" isBlankWhenNull="false">
					<reportElement key="textField" isPrintRepeatedValues="false" x="6" y="0" width="16" height="12" uuid="1ada9e66-82f9-4c04-afde-e3b76536a688">
						<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textFieldExpression><![CDATA[$F{archetype}.compareTo("product.merchandise")==0?"G":$F{archetype}.compareTo("product.medication")==0?"M":$F{archetype}.compareTo("product.service")==0?"S":"?"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement key="textField" x="361" y="0" width="189" height="12" uuid="c3433f8d-2928-4672-9ba6-7ef6d685667b">
						<printWhenExpression><![CDATA[$P{Show Classifications}]]></printWhenExpression>
					</reportElement>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement textAlignment="Right">
						<paragraph lineSpacing="Single"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{classifications}]]></textFieldExpression>
				</textField>
				<textField isBlankWhenNull="true">
					<reportElement key="textField" x="282" y="0" width="73" height="12" uuid="52211f1d-72fc-4829-bbb1-67389b709453"/>
					<box>
						<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
						<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					</box>
					<textElement>
						<paragraph lineSpacing="Single"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
				</textField>
			</band>
		</groupHeader>
		<groupFooter>
			<band splitType="Stretch"/>
		</groupFooter>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="110" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<staticText>
				<reportElement key="staticText-1" x="125" y="0" width="299" height="23" uuid="7c73d896-7306-469d-b0a7-b35840c0b5f6"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font size="16" isBold="true" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product List ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-35" x="5" y="29" width="129" height="16" uuid="cfe14f05-4e5f-4992-b23c-7bf352edfda0">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Name: ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-36" x="5" y="45" width="129" height="16" uuid="d7a19c25-144f-403e-a664-70e302e1ce74"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Type: ]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="140" y="29" width="103" height="16" uuid="c9ca0551-1f67-4706-9ed5-09b639a185a5">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Product Name}==null)?"%":$P{Product Name}+"%"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-9" x="140" y="45" width="103" height="16" uuid="30f6b1f9-1c39-4fdb-8da2-0a49f26fe4d7"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Product Type}==null)?"%":$P{Product Type}+"%"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-37" x="253" y="29" width="80" height="16" uuid="4b79bef0-336c-4fa3-9926-99534b2fdf53"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Low Markup: ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-38" x="253" y="45" width="80" height="16" uuid="c6032232-7e1f-40fc-a29a-0234778c446e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[High Markup: ]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-10" x="336" y="29" width="61" height="16" uuid="5b65d893-6572-46db-92d3-446f936ec00b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Low Markup}]]></textFieldExpression>
			</textField>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-11" x="336" y="45" width="61" height="16" uuid="f3980c27-44d2-480e-bd50-8786db50bbfe"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{High Markup}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-38" x="5" y="61" width="129" height="16" uuid="c3405c27-11bb-445c-b9d2-7b8c562a819c"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Pricing Group: ]]></text>
			</staticText>
			<textField>
				<reportElement x="140" y="61" width="103" height="16" uuid="7cf88dcd-6d53-4ac3-9d87-ddb512228840"/>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Pricing Group}==null)?"%":$P{Pricing Group}+"%"]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="447" y="0" width="103" height="10" uuid="ba180f07-b0a5-4c81-b203-d8437a282e80"/>
				<textElement textAlignment="Right">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, $P{REPORT_LOCALE}).format(new Date())]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-10" x="253" y="61" width="80" height="16" uuid="cd8d0b44-24ef-440e-adc3-e28a448e6ead"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Includes: ]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="336" y="61" width="214" height="16" uuid="c8fee288-bfb1-4fae-a64c-a2a30dac6942">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{IncServices} ?" Services": "")
+($P{IncMedications} ? " Medications" : "")
+($P{IncMerchandise}? " Merchandise": "")]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-11" x="253" y="77" width="80" height="16" uuid="45dc7ad1-c56d-45ec-9569-33b00ae5181f">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Include Tax:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-11" x="336" y="77" width="72" height="16" uuid="382a865b-037b-435b-b812-ee37c02502db"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{IncTax} ? "Yes" : "No"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-38" x="5" y="77" width="129" height="16" uuid="49e1543d-3403-4764-b66a-27bab1cec6f9"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Classification: ]]></text>
			</staticText>
			<textField>
				<reportElement x="140" y="77" width="103" height="16" uuid="da5e4ec9-da89-434a-ac92-af5514d3e433"/>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Classification}==null)?"%":$P{Classification}+"%"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-11" x="253" y="93" width="80" height="16" uuid="deb3e65a-0adf-4170-bdca-2ff2e412a09b">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Show Prices:]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-11" x="337" y="93" width="110" height="16" uuid="fd2e53ba-e5f8-4e87-9921-cb25b65e6dae"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Show Prices}? "Yes" : "No"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-11" x="5" y="93" width="129" height="16" uuid="57e39841-2686-4003-9113-28297c53b8b8">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="false"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Show Classifications: ]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="true">
				<reportElement key="textField-11" x="140" y="93" width="103" height="16" uuid="e2abf269-7879-4fce-a773-ac3558044cb0"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{Show Classifications}? "Yes" : "No"]]></textFieldExpression>
			</textField>
			<textField>
				<reportElement positionType="Float" x="436" y="14" width="67" height="12" uuid="c39fe613-4627-496c-a5a7-50bccfdbb298">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Page  1"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement positionType="Float" x="503" y="14" width="46" height="12" uuid="45b0f873-9c51-4c11-82a8-92036202bc88"/>
				<textElement textAlignment="Left">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" of " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="31" splitType="Stretch">
			<printWhenExpression><![CDATA[$V{PAGE_NUMBER}>1]]></printWhenExpression>
			<textField>
				<reportElement positionType="Float" x="436" y="14" width="67" height="12" uuid="74888e2b-d914-4f62-ae5c-918655b694c6">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<textElement textAlignment="Right">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement positionType="Float" x="503" y="14" width="46" height="12" uuid="d13823c0-86a0-4478-a180-cd757ff32977"/>
				<textElement textAlignment="Left">
					<font size="9"/>
				</textElement>
				<textFieldExpression><![CDATA[" of " + $V{PAGE_NUMBER}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="447" y="0" width="103" height="10" uuid="521edf1c-be25-4f0b-b430-163834aa60be"/>
				<textElement textAlignment="Right">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, $P{REPORT_LOCALE}).format(new Date())]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-1" x="125" y="0" width="299" height="23" uuid="7dc114ad-bd1a-47d5-b15f-82f663927037"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font size="16" isBold="true" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product List ]]></text>
			</staticText>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="41" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-11" x="0" y="0" width="176" height="16" uuid="0ad5fbbf-d5fa-4778-ae60-b16c040329e1">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Type/Name]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-13" x="266" y="17" width="46" height="16" isRemoveLineWhenBlank="true" uuid="e9df7f2f-b639-4749-8900-a4551e6af83b">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Cost]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-14" x="361" y="17" width="47" height="16" isRemoveLineWhenBlank="true" uuid="9d631ff9-eea5-43ab-8cd4-ecb2a447b8ea">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Price]]></text>
			</staticText>
			<line>
				<reportElement key="line-1" positionType="Float" x="0" y="37" width="550" height="1" uuid="5251c050-4a6a-4975-8423-52091eabd32d"/>
			</line>
			<staticText>
				<reportElement key="staticText-27" x="278" y="0" width="77" height="16" isRemoveLineWhenBlank="true" uuid="df2cc56a-2b85-43ea-99e5-d6d4d6cf6c5f">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Units]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="39" y="17" width="167" height="16" isRemoveLineWhenBlank="true" uuid="aa3cbcda-0292-4aa4-92a0-a6bfafe4863d">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Price Type, Name]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-32" x="316" y="17" width="52" height="16" isRemoveLineWhenBlank="true" uuid="e5c48c7b-e373-4427-af96-c0cbae2bc9bf">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Markup]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-33" x="216" y="17" width="51" height="16" isRemoveLineWhenBlank="true" uuid="62e4b71b-9651-4bd1-9c49-44af83ddc88d">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[PTID]]></text>
			</staticText>
			<staticText>
				<reportElement x="424" y="17" width="122" height="16" isRemoveLineWhenBlank="true" uuid="fa661b4d-bf08-4db3-a437-1924e4e9e567">
					<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
				</reportElement>
				<textElement>
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Pricing Group]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-11" x="339" y="0" width="211" height="16" uuid="c6653031-3236-4009-8d26-a89e1affcd90">
					<printWhenExpression><![CDATA[$P{Show Classifications}]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Classifications]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="13" splitType="Stretch">
			<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="273" y="0" width="39" height="12" isRemoveLineWhenBlank="true" uuid="04bc6369-3447-43da-9bee-1a68ea94bfee"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{cost}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="316" y="0" width="41" height="12" isRemoveLineWhenBlank="true" uuid="6042a4be-625a-47f7-b2bc-d4ead22647cc"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{markup}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-5" x="216" y="0" width="51" height="12" isRemoveLineWhenBlank="true" uuid="52ae79c7-b81c-4138-9a6f-7d353dea9c3a">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{linkID}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-6" x="56" y="0" width="150" height="12" isRemoveLineWhenBlank="true" uuid="d4bf0980-c9cb-4506-ad74-a38f2e1c413d"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{priceName}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField-7" x="360" y="0" width="48" height="12" isRemoveLineWhenBlank="true" uuid="7d1ee0aa-d526-4f47-b49e-70a6a4e714b4"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{price}==null?"":$V{PRICE}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="424" y="0" width="122" height="12" isRemoveLineWhenBlank="true" uuid="f97e3adb-bd4c-4b3e-8258-2e7cb25faf3b"/>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{pricingGroup}==null)?"":$F{pricingGroup}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField-6" x="39" y="0" width="17" height="12" isRemoveLineWhenBlank="true" uuid="bbb11e8a-ea7b-4310-8f97-8b071a8eb060">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{priceType}]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<columnFooter>
		<band height="4" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<printWhenExpression><![CDATA[$P{Show Prices}]]></printWhenExpression>
		</band>
	</columnFooter>
	<pageFooter>
		<band splitType="Stretch"/>
	</pageFooter>
	<summary>
		<band height="226" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-39" x="9" y="5" width="100" height="16" uuid="89c88357-5ee3-44cd-98b9-cf9f16ea353b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Count:]]></text>
			</staticText>
			<textField evaluationTime="Auto" isBlankWhenNull="false">
				<reportElement key="textField" x="115" y="5" width="128" height="16" uuid="da1be94c-d918-4ef7-88a1-cd3df1d7c3fa">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{totalProducts}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="123" y="21" width="304" height="19" isRemoveLineWhenBlank="true" uuid="82f2b3ce-46b6-459b-9934-0e82525c339e">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()==0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center">
					<font size="13" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[No Data Found - Check Parameters]]></text>
			</staticText>
			<staticText>
				<reportElement x="5" y="40" width="544" height="186" isRemoveLineWhenBlank="true" uuid="035dc232-f55d-49e2-80f6-ac0e6510c53f">
					<printWhenExpression><![CDATA[$P{Explain}]]></printWhenExpression>
				</reportElement>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[This report shows the product list (optionally with prices) grouped by Product Type.
Product Classifications (ie Product Type Group or Product Income Group) are shown if requested.
The selection fields entered have % added so that leaving them blank will find all, and entering say product type 'n' will include all product types with names starting 'n' or 'N', and entering product name '%vacc' will find all products with names containing 'vacc'. The selection is case insensitive. 
For Product Type, Pricing Group and Classification selection, omitting the selection will include products with no product type or pricing group or classification respectively, and using the selection '-' will find only those with no product type or pricing group or classification.
You can also use a selection string starting ! to use a 'not like' selection - so product type '!c' will find products with product types not starting with c, and  setting the pricing group to '!-' will find all products with a non-null pricing group.
Only active products are included. Cost prices are ex-tax, Prices are inc-tax if Include Tax is selected, otherwise they are ex-tax. The prices are those applicable when the report was run.
Products are listed even if they have no price(s) applicable .
The left column indicates the Type of Product (M=medication, S=Service, G=merchandise ie goods).
The Price Type column will be F (fixed), L (linked from Product Price Template) or U (unit). If L then the PTID column gives the ID of the Template.
The data is ordered by Product Type, Product Name, Price Type, Price Name and Pricing Group.
]]></text>
			</staticText>
			<line>
				<reportElement key="line-2" x="0" y="1" width="550" height="1" uuid="9bac31d3-0421-43a5-9c8a-bc4be03f37d8">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
			</line>
		</band>
	</summary>
</jasperReport>
