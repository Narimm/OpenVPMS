<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="Product Price List report" pageWidth="612" pageHeight="792" whenNoDataType="AllSectionsNoDetail" columnWidth="550" leftMargin="31" rightMargin="31" topMargin="19" bottomMargin="19" uuid="a96e0a17-d397-43e0-937a-92a90c60abbe">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="OpenVPMS"/>
	<property name="com.jaspersoft.studio.data.sql.tables" value=""/>
	<import value="net.sf.jasperreports.engine.*"/>
	<import value="java.util.*"/>
	<import value="net.sf.jasperreports.engine.data.*"/>
	<style name="Base" isDefault="true" hTextAlign="Left" hImageAlign="Left" vTextAlign="Middle" vImageAlign="Middle" fontName="DejaVu Sans" fontSize="9"/>
	<parameter name="IsEmail" class="java.lang.Boolean" isForPrompting="false">
		<parameterDescription><![CDATA[If true, indicates the report is being emailed, to enable different formatting]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<parameter name="Product Name" class="java.lang.String">
		<parameterDescription><![CDATA[Product Name]]></parameterDescription>
	</parameter>
	<parameter name="Product Type" class="java.lang.String">
		<parameterDescription><![CDATA[Product Type]]></parameterDescription>
	</parameter>
	<parameter name="UseLocation" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Use Location]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<parameter name="Location" class="java.lang.String">
		<parameterDescription><![CDATA[Location]]></parameterDescription>
		<defaultValueExpression><![CDATA["$OpenVPMS.location.name"]]></defaultValueExpression>
	</parameter>
	<parameter name="IncServices" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Services]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncMedications" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Medications]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncMerchandise" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Merchandise]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="IncTax" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Include Tax]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.TRUE]]></defaultValueExpression>
	</parameter>
	<parameter name="ShowPID" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Show Product ID]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<parameter name="Date" class="java.util.Date">
		<parameterDescription><![CDATA[Price As At Date]]></parameterDescription>
		<defaultValueExpression><![CDATA[new java.util.Date()]]></defaultValueExpression>
	</parameter>
	<parameter name="Explain" class="java.lang.Boolean">
		<parameterDescription><![CDATA[Display explanation]]></parameterDescription>
		<defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
	</parameter>
	<queryString language="SQL">
		<![CDATA[select  e.name as product,
	e.entity_id as pid,
	uom.name as uom,
	if(isnull(uppg.ppgId),upnpg.ppgName,uppg.ppgName)as unitPricingGroup,
	if(isnull(uppg.ppgId),upnpg.price,uppg.price) as unitPrice,
	if(isnull(uppg.ppgId),upnpg.start_time,uppg.start_time)  as unitStartTime,
	if(isnull(uppg.ppgId),upnpg.end_time,uppg.end_time)  as unitEndTime,

	if(isnull(fppg.ppgId),fpnpg.ppgName,fppg.ppgName)as fixedPricingGroup,
	if(isnull(fppg.ppgId),fpnpg.price,fppg.price) as fixedPrice,
	if(isnull(fppg.ppgId),fpnpg.start_time,fppg.start_time)  as fixedStartTime,
	if(isnull(fppg.ppgId),fpnpg.end_time,fppg.end_time)  as fixedEndTime,
	if(isnull(fppg.ppgId),fpnpg.name,fppg.name)  as fixedName,
	if(isnull(fppg.ppgId),fpnpg.type,fppg.type)as fixedType,
    if(isnull(fppg.ppid),fpnpg.ppid,fppg.ppid)as fixed_ppid,
    
    pl.name as practiceLocation,
    lpg.name as pricingGroup,
    cast(elsrd.value as Decimal(18,3)) as serviceRatio
	
from products p
join entities pl on pl.name =  $P{Location} 
	and pl.arch_short_name = 'party.organisationLocation'
	and pl.active = 1
left join entity_classifications ecpg on ecpg.entity_id = pl.entity_id
left join lookups lpg on lpg.lookup_id = ecpg.lookup_id and lpg.arch_short_name = 'lookup.pricingGroup'

join entities e on p.product_id = e.entity_id and e.active = 1
left join entity_links r
       on e.entity_id = r.source_id and r.arch_short_name = "entityLink.productType"
left join entities pt
       on r.target_id = pt.entity_id
left join entity_details d1 on d1.entity_id = e.entity_id and d1.name = "sellingUnits"
left join lookups uom on uom.arch_short_name = "lookup.uom" and uom.code = d1.value

left join entity_links elsr on elsr.source_id = pl.entity_id
	and elsr.arch_short_name = 'entityLink.locationProductType'
    and elsr.target_id = pt.entity_id
left join entity_link_details elsrd on elsrd.id = elsr.id
	and elsrd.name = 'ratio'


left join (
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, null as lkid, "U" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join product_prices pp on e.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.unitPrice"
            and (not isnull(ppc.lookup_id))
) as uppg on uppg.pid = e.entity_id  
					and uppg.ppgName = lpg.name

left join (
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, null as lkid, "U" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join product_prices pp on e.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.unitPrice"
            and isnull(ppc.lookup_id)

) as upnpg on upnpg.pid = e.entity_id 


left join (
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, null as lkid, "F" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join product_prices pp on e.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.fixedPrice"
            and (not isnull(ppc.lookup_id))
	union
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, pt.entity_id as lkid, "L" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join entity_relationships erl on erl.source_id = e.entity_id and erl.arch_short_name = 'entityRelationship.productLink'
		join entities pt on pt.entity_id = erl.target_id
		join product_prices pp on pt.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.fixedPrice"
            and (not isnull(ppc.lookup_id))
	) as fppg on fppg.pid = e.entity_id 
					and fppg.ppgName = lpg.name

left join (
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, null as lkid, "F" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join product_prices pp on e.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.fixedPrice"
            and isnull(ppc.lookup_id)
	union
		select pp.price as price, pp.product_price_id as ppid, e.entity_id as pid, pp.start_time, pp.end_time, pp.name, 
			ppg.lookup_id as ppgId, ppg.name as ppgName, pt.entity_id as lkid, "L" as type
		from products p
		join entities e on p.product_id = e.entity_id 
		join entity_relationships erl on erl.source_id = e.entity_id and erl.arch_short_name = 'entityRelationship.productLink'
		join entities pt on pt.entity_id = erl.target_id
		join product_prices pp on pt.entity_id = pp.product_id 
			and ((pp.start_time is null or pp.start_time <= $P{Date}) and (pp.end_time is null or pp.end_time > $P{Date}))
		left join product_price_classifications ppc on pp.product_price_id = ppc.product_price_id
		left join lookups ppg on ppc.lookup_id = ppg.lookup_id and ppg.arch_short_name = "lookup.pricingGroup"
		where e.name like concat(ifnull($P{Product Name},""),"%")
			and pp.arch_short_name = "productPrice.fixedPrice"
            and isnull(ppc.lookup_id)
	) as fpnpg on fpnpg.pid = e.entity_id 


where e.name like concat(ifnull( $P{Product Name}  ,""),"%")
       and ifnull(pt.name,'-') like concat(ifnull( $P{Product Type},""),"%")
 	and ((e.arch_short_name = "product.service" and $P{IncServices})
		or (e.arch_short_name = "product.medication" and $P{IncMedications})
		or (e.arch_short_name = "product.merchandise" and $P{IncMerchandise}))
	and ((not isnull(pl.entity_id) or (not  $P{UseLocation} )))
group by e.entity_id, fixed_ppid    		
order by product, fixedPricingGroup, fixedName]]>
	</queryString>
	<field name="product" class="java.lang.String"/>
	<field name="pid" class="java.lang.Long"/>
	<field name="uom" class="java.lang.String"/>
	<field name="unitPricingGroup" class="java.lang.String"/>
	<field name="unitPrice" class="java.math.BigDecimal"/>
	<field name="unitStartTime" class="java.sql.Timestamp"/>
	<field name="unitEndTime" class="java.sql.Timestamp"/>
	<field name="fixedPricingGroup" class="java.lang.String"/>
	<field name="fixedPrice" class="java.math.BigDecimal"/>
	<field name="fixedStartTime" class="java.sql.Timestamp"/>
	<field name="fixedEndTime" class="java.sql.Timestamp"/>
	<field name="fixedName" class="java.lang.String"/>
	<field name="fixedType" class="java.lang.String"/>
	<field name="fixed_ppid" class="java.lang.Long"/>
	<field name="practiceLocation" class="java.lang.String"/>
	<field name="pricingGroup" class="java.lang.String"/>
	<field name="serviceRatio" class="java.math.BigDecimal"/>
	<variable name="currentPage" class="java.lang.Integer" resetType="Page">
		<variableExpression><![CDATA[$V{PAGE_NUMBER}]]></variableExpression>
		<initialValueExpression><![CDATA[1]]></initialValueExpression>
	</variable>
	<variable name="serviceRatio" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$F{serviceRatio}==null?new BigDecimal("1.0"):$F{serviceRatio}]]></variableExpression>
	</variable>
	<variable name="UNIT" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($F{unitPrice} != null) ? EVALUATE("product:price($F.pid, $F.unitPrice, $P.IncTax)"): new BigDecimal("0.00")]]></variableExpression>
	</variable>
	<variable name="FIXED" class="java.math.BigDecimal">
		<variableExpression><![CDATA[($F{fixedPrice} != null) ? EVALUATE("product:price($F.pid, $F.fixedPrice, $P.IncTax)"): new BigDecimal("0.00")]]></variableExpression>
	</variable>
	<variable name="PRICEX1" class="java.math.BigDecimal">
		<variableExpression><![CDATA[$V{FIXED}.add($V{UNIT}).multiply($V{serviceRatio})]]></variableExpression>
	</variable>
	<variable name="totalProducts" class="java.lang.Integer" calculation="DistinctCount">
		<variableExpression><![CDATA[$F{pid}]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<variable name="reportTitle" class="java.lang.String">
		<variableExpression><![CDATA[$F{practiceLocation}==null?"Price List - ???????":
$P{UseLocation}?("Price List - "+$F{practiceLocation}):"Price List"]]></variableExpression>
	</variable>
	<variable name="ServiceRatioUsed" class="java.lang.Integer" calculation="Sum">
		<variableExpression><![CDATA[$F{serviceRatio}==null?0:1]]></variableExpression>
		<initialValueExpression><![CDATA[0]]></initialValueExpression>
	</variable>
	<group name="Product" keepTogether="true">
		<groupExpression><![CDATA[$F{pid}]]></groupExpression>
		<groupHeader>
			<band>
				<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			</band>
		</groupHeader>
	</group>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="158" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<staticText>
				<reportElement key="staticText-27" x="157" y="32" width="165" height="16" uuid="c7804e1f-05e8-4cec-a2dd-234fc2c69da8">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Applicable Pricing Group: ]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-1" x="435" y="28" width="69" height="17" uuid="67e688b7-4488-46ce-821b-21525a708925"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-10" x="238" y="48" width="84" height="16" uuid="d82297c6-6694-450d-95e7-2a698a3c4ca7">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Include Tax: ]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="322" y="48" width="130" height="16" uuid="924f067c-c804-45d2-9a3e-850e41f9b7a6"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{IncTax} ? "Yes" : "No"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="false">
				<reportElement key="textField-2" x="508" y="28" width="40" height="17" uuid="cd86ff3d-8d61-4171-8466-c0cc08676a9c"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER} + ""]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-35" x="0" y="48" width="94" height="16" uuid="53152d3e-925c-4c42-8fe4-d4317fcb0383"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Name: ]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-10" x="238" y="64" width="84" height="16" uuid="3e793801-83ec-4f7b-b2cc-3c9dabbe0d6b"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Includes: ]]></text>
			</staticText>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-9" x="94" y="64" width="102" height="16" uuid="a024b517-db92-4af4-832e-268b0452bdc7">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Product Type}==null)?"%":$P{Product Type}+"%"]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField" x="94" y="48" width="102" height="16" uuid="234b5c7e-ce06-43db-9df8-6e1e8d8c5fb0">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{Product Name}==null)?"%":$P{Product Name}+"%"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-36" x="0" y="64" width="94" height="16" uuid="a1f68e55-80cd-4dc3-8201-f19805913fb9"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Type: ]]></text>
			</staticText>
			<textField pattern="" isBlankWhenNull="false">
				<reportElement key="textField" x="322" y="64" width="228" height="16" uuid="21d0d012-5d91-4f3d-bea7-a3f9e2521ce9"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($P{IncServices} ? " Services" : "")
+($P{IncMedications} ? " Medications" : "")
+($P{IncMerchandise} ? " Merchandise" : "")]]></textFieldExpression>
			</textField>
			<textField pattern="MMMMM dd, yyyy">
				<reportElement x="322" y="32" width="103" height="16" uuid="610aaa49-b3a0-4c59-bbdf-9864f77ce679">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
				</reportElement>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{pricingGroup}==null?"--NONE--":$F{pricingGroup}]]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="447" y="0" width="103" height="10" uuid="d1914406-12e5-4987-b8db-69edaceff947"/>
				<textElement textAlignment="Right">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, $P{REPORT_LOCALE}).format(new Date())]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement key="staticText-27" x="0" y="32" width="94" height="16" uuid="2d0d3f17-7436-4139-b887-3f2cb9e138c3">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Prices As At: ]]></text>
			</staticText>
			<textField pattern="MMMMM dd, yyyy">
				<reportElement x="94" y="32" width="70" height="16" uuid="02bc2d06-cec7-4522-bbde-68b360b055db">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</reportElement>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[DateFormat.getDateInstance(DateFormat.SHORT, $P{REPORT_LOCALE}).format($P{Date})]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement key="staticText-1" x="9" y="0" width="418" height="23" uuid="a9bafcc2-a261-4495-8fb0-05fac6b70acf"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font size="16" isBold="true" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{practiceLocation}==null?"Price List - ???????":
$P{UseLocation}?("Price List - "+$F{practiceLocation}):"Price List"]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement x="2" y="80" width="546" height="77" isRemoveLineWhenBlank="true" uuid="70b40624-ea65-4bbd-b8e0-5028e04da1e2">
					<printWhenExpression><![CDATA[(!$P{UseLocation}) && (($F{pricingGroup} != null) || ($V{ServiceRatioUsed}>0))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["WARNING: 'Use Location' parameter unchecked, but current location uses Pricing Group and/or Service Ratio facilities - ie different locations use different prices."]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band height="49" splitType="Stretch">
			<printWhenExpression><![CDATA[$V{PAGE_NUMBER}>1]]></printWhenExpression>
			<textField pattern="dd/MM/yyyy h.mm a">
				<reportElement x="447" y="0" width="103" height="10" uuid="48323314-1cce-44c9-952a-f67affd310cf"/>
				<textElement textAlignment="Right">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[DateFormat.getDateTimeInstance(DateFormat.SHORT,DateFormat.SHORT, $P{REPORT_LOCALE}).format(new Date())]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="false">
				<reportElement key="textField-1" x="435" y="28" width="69" height="17" uuid="b7c7c4bf-0697-4516-903f-481b36c6661f"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report" isBlankWhenNull="false">
				<reportElement key="textField-2" x="508" y="28" width="40" height="17" uuid="965568c1-47b4-46a7-b528-1d00c947ddf8"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA["" + $V{PAGE_NUMBER} + ""]]></textFieldExpression>
			</textField>
			<textField evaluationTime="Report">
				<reportElement key="staticText-1" x="9" y="0" width="418" height="23" uuid="f308fe75-3ad1-4aaa-b236-8b6c6224f294"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font size="16" isBold="true" isUnderline="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{practiceLocation}==null?"Price List - ???????":
$P{UseLocation}?("Price List - "+$F{practiceLocation}):"Price List"]]></textFieldExpression>
			</textField>
		</band>
	</pageHeader>
	<columnHeader>
		<band height="25" splitType="Stretch">
			<staticText>
				<reportElement key="staticText-11" x="2" y="3" width="205" height="21" uuid="859f4563-75d8-45d4-9957-70702c69f25a">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-13" x="314" y="3" width="45" height="21" uuid="d360e05f-260b-420f-9506-80fb330bfd0b">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Fixed
Price]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-14" x="249" y="3" width="45" height="21" uuid="b33ba50e-c6d5-4f23-8b2f-c3511bdad7e1"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Unit Price]]></text>
			</staticText>
			<line>
				<reportElement key="line-1" x="0" y="24" width="550" height="1" uuid="67447730-72bc-496e-93ae-91c2af297317">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement key="staticText-27" x="207" y="3" width="39" height="21" uuid="2ae93615-341e-49c3-8c0a-4d3b4e1d461d">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Units]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-31" x="513" y="3" width="35" height="21" uuid="33ab8d92-5e21-40c7-b079-dc28ee089cb8">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Total
Price]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-14" x="473" y="3" width="38" height="21" uuid="32ec3ee1-865b-4ec2-8d97-90c6b8137bba"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Service
Ratio]]></text>
			</staticText>
			<staticText>
				<reportElement key="staticText-13" x="379" y="3" width="89" height="21" uuid="71b7a4bf-173c-476c-a98a-fdabb556e38e">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Left">
					<font size="7" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[FP Name]]></text>
			</staticText>
		</band>
	</columnHeader>
	<detail>
		<band height="11" splitType="Stretch">
			<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
			<textField isStretchWithOverflow="true" isBlankWhenNull="false">
				<reportElement key="textField" isPrintRepeatedValues="false" x="2" y="0" width="205" height="10" uuid="33a6a7ed-36f3-48d2-888b-c57b9f98fdc6">
					<property name="com.jaspersoft.studio.unit.height" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$P{ShowPID}?$F{product}+" ("+$F{pid}+")":$F{product}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="207" y="0" width="39" height="10" uuid="f5dc1619-9e78-4e4d-91af-60dbcbc57b8d"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{uom}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="314" y="0" width="45" height="10" uuid="2b389ef3-491a-4c30-903b-8909a4cefac0">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<printWhenExpression><![CDATA[new Boolean($V{FIXED}.compareTo(new BigDecimal("0.00")) != 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{FIXED}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="249" y="0" width="45" height="10" uuid="48707657-af4d-4a2e-88c9-f2c5df3cc70e">
					<printWhenExpression><![CDATA[new Boolean($V{UNIT}.compareTo(new BigDecimal("0.00")) != 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{UNIT}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="513" y="0" width="35" height="10" uuid="4c072d06-c00e-45fa-af16-14a0da318cfb">
					<property name="com.jaspersoft.studio.unit.x" value="pixel"/>
					<printWhenExpression><![CDATA[new Boolean($V{PRICEX1}.compareTo(new BigDecimal("0.00")) != 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{PRICEX1}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" pattern="#,##0.###" isBlankWhenNull="true">
				<reportElement x="473" y="0" width="38" height="10" uuid="08a79c22-14cb-46d2-89ae-f2b28917b150"/>
				<textElement textAlignment="Right" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{serviceRatio}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement key="textField" x="379" y="0" width="89" height="10" uuid="3d6d64e8-1bc7-4fc4-9c70-74e79e938552">
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$F{fixedName}]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="359" y="0" width="17" height="10" uuid="0859d8c7-60e9-465d-b8bf-c7eb7fd60628">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[new Boolean($V{FIXED}.compareTo(new BigDecimal("0.00")) != 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{fixedType}.equals("L")?"L":" ")+
($F{fixedPricingGroup}==null?" ":"G")]]></textFieldExpression>
			</textField>
			<textField pattern="##0.00" isBlankWhenNull="true">
				<reportElement key="textField" x="294" y="0" width="18" height="10" uuid="7a436144-1c0a-4464-b20b-325100dabcdd">
					<property name="com.jaspersoft.studio.unit.width" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="pixel"/>
					<printWhenExpression><![CDATA[new Boolean($V{FIXED}.compareTo(new BigDecimal("0.00")) != 0)]]></printWhenExpression>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Top">
					<font size="7"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{unitPricingGroup}==null?" ":"G")]]></textFieldExpression>
			</textField>
		</band>
	</detail>
	<summary>
		<band height="470" splitType="Stretch">
			<line>
				<reportElement key="line-2" x="0" y="3" width="550" height="1" uuid="321311aa-4cfb-41d9-809a-d9107aa3cb7d">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
			</line>
			<staticText>
				<reportElement key="staticText-39" x="2" y="5" width="102" height="16" uuid="02c07ba9-cd5f-4711-a2fd-d566bbf3b83e"/>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement textAlignment="Right">
					<font isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[Product Count:   ]]></text>
			</staticText>
			<textField evaluationTime="Auto" isBlankWhenNull="false">
				<reportElement key="textField" x="104" y="5" width="127" height="16" uuid="de269243-d9f6-41a9-9c9f-99215e562566">
					<property name="local_mesure_unity" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.y" value="px"/>
				</reportElement>
				<box>
					<topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
					<bottomPen lineWidth="0.0" lineColor="#000000"/>
					<rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
				</box>
				<textElement>
					<font size="9"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<textFieldExpression><![CDATA[$V{totalProducts}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement positionType="Float" x="123" y="98" width="304" height="19" isRemoveLineWhenBlank="true" uuid="56810220-1cb6-40a4-b1de-c3bdbe2a2cca">
					<printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()==0)]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center">
					<font size="13" isBold="true"/>
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[No Data Found - Check Parameters]]></text>
			</staticText>
			<staticText>
				<reportElement positionType="Float" x="5" y="180" width="543" height="289" isRemoveLineWhenBlank="true" uuid="44cdce50-af8b-4366-8c58-ed5faf98c61f">
					<printWhenExpression><![CDATA[$P{Explain}]]></printWhenExpression>
				</reportElement>
				<textElement verticalAlignment="Top">
					<paragraph lineSpacing="Single"/>
				</textElement>
				<text><![CDATA[This report shows the product price list for the specified Practice Location as at the specified date. These default to the currently selected location and today respectively. 
If you use common pricing across all locations, you should leave the 'Use Location' option unchecked. If you use location specific pricing, then you should check the 'Use Location' option - the report title will then include the location.
The report takes into account the Pricing Group (if any) and Service Ratios (if any) at the specified Location and is designed to be used to generate a printed price list. Note that the Product Structure Report provides better detail on how the price is structured.
The selection fields entered have % added so that leaving them blank will find all, and entering say product type 'n' will include all product types with names starting 'n' or 'N', and entering product name '%vacc' will find all products with names containing 'vacc'. The selection is case insensitive. For Product Type selection, omitting the selection will include products with no product type, and using the selection '-' will find only those with no product type.
Only active products are included.
The Include Tax option determines if prices are displayed including tax.
Checking the 'Show Product ID' option will cause the Product ID to be shown after the product name.
Although you can select by Product Type, this is not displayed.
If a product has multiple fixed prices, these will be displayed on separate lines.
If the fixed price is set via a linked Product Price Template, the letter L will be shown after the Fixed Price.
If the fixed price is set via the Pricing Group set for the Practice Location, the letter G will be displayed after the Fixed Price, and similarly for the Unit Price. The applicable Pricing Group is shown in the header of page 1.
If there is an applicable Service Ratio, this will be displayed in the Service Ratio column and the Total Price will include the Service Ratio multiplier.
The list is ordered by product name then fixed price name.]]></text>
			</staticText>
			<staticText>
				<reportElement x="5" y="117" width="541" height="63" isRemoveLineWhenBlank="true" uuid="6f924b7a-954c-4285-a43a-9a84022121ba">
					<printWhenExpression><![CDATA[($F{practiceLocation}==null)]]></printWhenExpression>
				</reportElement>
				<text><![CDATA[The location specified by the Location parameter does not exist. You should leave the Location parameter as displayed - it will be set to your currently selected Practice Location. If you require the pricelist for a different location, then you need to change the currently selected Practice Location rather than modifying the Location parameter because if this does not exactly match a valid Practice Location then the report heading will show 'Price List - ??????' with no data found.]]></text>
			</staticText>
			<textField evaluationTime="Report">
				<reportElement x="0" y="21" width="550" height="77" isRemoveLineWhenBlank="true" uuid="80f138b4-2299-44ee-8ddd-94e4eafdbbdb">
					<printWhenExpression><![CDATA[(!$P{UseLocation}) && (($F{pricingGroup} != null) || ($V{ServiceRatioUsed}>0))]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Left" verticalAlignment="Middle">
					<font fontName="DejaVu Sans" size="15" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["WARNING: 'Use Location' parameter unchecked, but current location uses Pricing Group and/or Service Ratio facilities - ie different locations use different prices."]]></textFieldExpression>
			</textField>
		</band>
	</summary>
</jasperReport>
