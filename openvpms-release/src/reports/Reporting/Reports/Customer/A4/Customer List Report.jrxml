<?xml version="1.0" encoding="UTF-8"?>
<!--
  ~ Version: 1.0
  ~
  ~ The contents of this file are subject to the OpenVPMS License Version
  ~ 1.0 (the 'License'); you may not use this file except in compliance with
  ~ the License. You may obtain a copy of the License at
  ~ http://www.openvpms.org/license/
  ~
  ~ Software distributed under the License is distributed on an 'AS IS' basis,
  ~ WITHOUT WARRANTY OF ANY KIND, either express or implied. See the License
  ~ for the specific language governing rights and limitations under the
  ~ License.
  ~
  ~ Copyright 2015 (C) OpenVPMS Ltd. All Rights Reserved.
  -->

<!-- Created with Jaspersoft Studio version 6.0.4.final using JasperReports Library version 6.0.4  -->
<!-- 2015-05-19T18:42:26 -->
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports"
              xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
              xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd"
              name="Customer List Report" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail"
              columnWidth="535" leftMargin="30" rightMargin="30" topMargin="20" bottomMargin="20"
              uuid="7d6508a7-fdb6-43ed-bbc0-5844c561862d">
    <property name="ireport.scriptlethandling" value="0"/>
    <property name="ireport.encoding" value="UTF-8"/>
    <property name="ireport.zoom" value="1.0"/>
    <property name="ireport.x" value="0"/>
    <property name="ireport.y" value="0"/>
    <property name="com.jaspersoft.studio.data.defaultdataadapter" value="OpenVPMS Local"/>
    <import value="net.sf.jasperreports.engine.*"/>
    <import value="java.util.*"/>
    <import value="net.sf.jasperreports.engine.data.*"/>
    <parameter name="IsEmail" class="java.lang.Boolean" isForPrompting="false">
        <parameterDescription>
            <![CDATA[If true, indicates the report is being emailed, to enable different formatting]]></parameterDescription>
        <defaultValueExpression><![CDATA[Boolean.FALSE]]></defaultValueExpression>
    </parameter>
    <parameter name="PracticeLocation" class="java.lang.String">
        <parameterDescription><![CDATA[Practice Location]]></parameterDescription>
        <defaultValueExpression><![CDATA[]]></defaultValueExpression>
    </parameter>
    <parameter name="acType" class="java.lang.String">
        <parameterDescription><![CDATA[Account Type]]></parameterDescription>
    </parameter>
    <parameter name="custType" class="java.lang.String">
        <parameterDescription><![CDATA[Customer Type]]></parameterDescription>
    </parameter>
    <parameter name="IncInactive" class="java.lang.Boolean">
        <parameterDescription><![CDATA[Include Inactive]]></parameterDescription>
        <defaultValueExpression><![CDATA[new Boolean("false")]]></defaultValueExpression>
    </parameter>
    <parameter name="countsOnly" class="java.lang.Boolean">
        <parameterDescription><![CDATA[Show only counts]]></parameterDescription>
        <defaultValueExpression><![CDATA[new Boolean("true")]]></defaultValueExpression>
    </parameter>
    <parameter name="Explain" class="java.lang.Boolean">
        <parameterDescription><![CDATA[Display explanation]]></parameterDescription>
        <defaultValueExpression><![CDATA[new Boolean("false")]]></defaultValueExpression>
    </parameter>
    <queryString language="SQL">
        <![CDATA[select  distinct e.name as customerName, e.entity_id as cid, e.description as contact, e.active as active,
   ifnull(loc.name,'--NONE--') as location, ifnull(l.name,'--NONE--') as accountType, ifnull(l2.name,'--NONE--') as customerType
from entities e
left join (entity_classifications ec, lookups l) on (ec.entity_id = e.entity_id
 and ec.lookup_id = l.lookup_id and l.arch_short_name = 'lookup.customerAccountType')
left join (entity_classifications ec2, lookups l2) on (ec2.entity_id = e.entity_id
  and ec2.lookup_id = l2.lookup_id and l2.arch_short_name = 'lookup.customerType')left join entity_links el on el.source_id = e.entity_id and el.arch_short_name = 'entityLink.customerLocation'
left join entities loc on loc.entity_id = el.target_id
where
  e.arch_short_name = 'party.customerperson'
  and ((substring($P{acType},1,1)="!" and ifnull(l.name,"--NONE--")  not like concat(substring($P{acType},2),"%") ) or
    	   ( ifnull(l.name,"--NONE--") like  concat(ifnull($P{acType},""),"%") )
    	  )
   and ((substring($P{custType},1,1)="!" and ifnull(l2.name,"--NONE--")  not like concat(substring($P{custType},2),"%") ) or
    	   ( ifnull(l2.name,"--NONE--") like  concat(ifnull($P{custType},""),"%") )
    	  )
  and ((substring($P{PracticeLocation},1,1)="!" and ifnull(loc.name,"--NONE--")  not like concat(substring($P{PracticeLocation},2),"%") ) or
    	   ( ifnull(loc.name,"--NONE--") like  concat(ifnull($P{PracticeLocation},""),"%") )
    	  )
   and ((e.active=true) or ($P{IncInactive}=true) )   
   order by location,accountType,e.name, e.entity_id]]>
    </queryString>
    <field name="customerName" class="java.lang.String"/>
    <field name="contact" class="java.lang.String"/>
    <field name="cid" class="java.lang.Long"/>
    <field name="active" class="java.lang.Boolean">
        <fieldDescription><![CDATA[]]></fieldDescription>
    </field>
    <field name="location" class="java.lang.String"/>
    <field name="accountType" class="java.lang.String"/>
    <field name="customerType" class="java.lang.String"/>
    <variable name="location1" class="java.lang.Integer" resetType="Group" resetGroup="Location" calculation="Count">
        <variableExpression><![CDATA[$F{location}]]></variableExpression>
    </variable>
    <variable name="acType1" class="java.lang.Integer" resetType="Group" resetGroup="acType" calculation="Count">
        <variableExpression><![CDATA[$F{accountType}]]></variableExpression>
    </variable>
    <variable name="srCount" class="java.lang.Integer" calculation="System"/>
    <variable name="test" class="java.lang.Integer">
        <variableExpression><![CDATA[$V{srCount}]]></variableExpression>
    </variable>
    <group name="Location">
        <groupExpression><![CDATA[$F{location}]]></groupExpression>
        <groupHeader>
            <band/>
        </groupHeader>
    </group>
    <group name="acType" isReprintHeaderOnEachPage="true">
        <groupExpression><![CDATA[$F{accountType}]]></groupExpression>
        <groupHeader>
            <band height="19">
                <textField>
                    <reportElement x="0" y="0" width="310" height="17" uuid="d5e81a32-42b9-4367-8750-8a95c9ddd2d1">
                        <property name="local_mesure_unitheight" value="pixel"/>
                        <property name="com.jaspersoft.studio.unit.height" value="px"/>
                    </reportElement>
                    <textElement>
                        <font isBold="true"/>
                    </textElement>
                    <textFieldExpression>
                        <![CDATA[$F{location}+" / "+$F{accountType}+(($V{acType1}==null)?"":" (cont)")]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement key="staticText-12" x="320" y="0" width="50" height="17"
                                   uuid="a0cca338-c4eb-4ac9-91bc-bef8dad31c06">
                        <printWhenExpression><![CDATA[($V{acType1}==null)]]></printWhenExpression>
                    </reportElement>
                    <box>
                        <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    </box>
                    <textElement textAlignment="Right">
                        <font isBold="true"/>
                    </textElement>
                    <text><![CDATA[Counts:]]></text>
                </staticText>
                <textField evaluationTime="Group" evaluationGroup="Location">
                    <reportElement x="378" y="0" width="42" height="17" uuid="b42fce6f-2062-47ce-8893-0afbef63e374">
                        <printWhenExpression><![CDATA[($V{acType1}==null)]]></printWhenExpression>
                    </reportElement>
                    <textElement textAlignment="Right">
                        <font isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$V{Location_COUNT}]]></textFieldExpression>
                </textField>
                <textField evaluationTime="Group" evaluationGroup="acType">
                    <reportElement x="427" y="0" width="100" height="17" uuid="d4961514-7457-44fc-b80a-9342ec39bd48">
                        <printWhenExpression><![CDATA[($V{acType1}==null)]]></printWhenExpression>
                    </reportElement>
                    <textElement>
                        <font isBold="true"/>
                    </textElement>
                    <textFieldExpression><![CDATA[$V{acType_COUNT}]]></textFieldExpression>
                </textField>
                <staticText>
                    <reportElement key="staticText-12" x="420" y="0" width="7" height="17"
                                   uuid="00979233-e5f4-481e-9535-5cfd7ce48662">
                        <property name="local_mesure_unitwidth" value="pixel"/>
                        <property name="com.jaspersoft.studio.unit.width" value="px"/>
                        <printWhenExpression><![CDATA[($V{acType1}==null)]]></printWhenExpression>
                    </reportElement>
                    <box>
                        <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                        <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    </box>
                    <textElement textAlignment="Center">
                        <font isBold="true"/>
                    </textElement>
                    <text><![CDATA[/]]></text>
                </staticText>
            </band>
        </groupHeader>
    </group>
    <background>
        <band splitType="Stretch"/>
    </background>
    <title>
        <band splitType="Stretch"/>
    </title>
    <pageHeader>
        <band height="81" splitType="Stretch">
            <staticText>
                <reportElement key="staticText-1" x="156" y="0" width="222" height="24"
                               uuid="91a21774-ecd2-4f50-8974-23d2b2afe106"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Center">
                    <font size="18" isBold="true" isUnderline="true"/>
                </textElement>
                <text><![CDATA[Customer List Report]]></text>
            </staticText>
            <staticText>
                <reportElement key="staticText-9" x="11" y="37" width="85" height="17"
                               uuid="97a37d4e-fb74-46af-9295-ec57b1ce3069"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Account Type: ]]></text>
            </staticText>
            <textField isBlankWhenNull="false">
                <reportElement key="textField-1" x="400" y="36" width="79" height="18"
                               uuid="3b2a78e8-21bc-4d24-bf34-4e03421159d4"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right"/>
                <textFieldExpression><![CDATA["Page " + $V{PAGE_NUMBER} + " of "]]></textFieldExpression>
            </textField>
            <textField evaluationTime="Report" isBlankWhenNull="false">
                <reportElement key="textField-2" x="480" y="36" width="54" height="18"
                               uuid="7a41aa91-09cb-4614-a41b-b246159514dc"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER} + ""]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="96" y="37" width="100" height="17"
                               uuid="efdbed3d-e34e-4ce2-ac39-4010609e3305">
                    <property name="local_mesure_unitheight" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.height" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[($P{acType}==null)?"%":$P{acType}+"%"]]></textFieldExpression>
            </textField>
            <textField pattern="dd/MM/yyyy h.mm a">
                <reportElement x="435" y="0" width="100" height="11" uuid="39660702-c94f-49bf-b19a-973aa0f3655a"/>
                <textElement textAlignment="Right">
                    <font fontName="SansSerif" size="8"/>
                    <paragraph lineSpacing="Single"/>
                </textElement>
                <textFieldExpression><![CDATA[new Date()]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement key="staticText-9" x="205" y="37" width="85" height="17"
                               uuid="0d57c012-cc62-4b35-9366-dd5b98527e2c"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Customer Type: ]]></text>
            </staticText>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="290" y="37" width="100" height="17"
                               uuid="3977b3b2-ba76-4f1c-89db-7a2655437195">
                    <property name="local_mesure_unitheight" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.height" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[($P{custType}==null)?"%":$P{custType}+"%"]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement key="staticText-9" x="11" y="55" width="85" height="17"
                               uuid="dcad1b7f-2a20-436a-ae1d-7f47a28f134b"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Practice Locn: ]]></text>
            </staticText>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="96" y="55" width="100" height="17"
                               uuid="cc0a1db6-dffc-41c2-93e6-791cb3de6ffb">
                    <property name="local_mesure_unitheight" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.height" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression>
                    <![CDATA[($P{PracticeLocation}==null)?"%":$P{PracticeLocation}+"%"]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement key="staticText-9" x="205" y="55" width="85" height="17"
                               uuid="2e53d395-417a-4983-961c-af89fa0d781f"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement textAlignment="Right"/>
                <text><![CDATA[Incl Inactive: ]]></text>
            </staticText>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="290" y="55" width="100" height="17"
                               uuid="41d7c817-1b02-4a3a-8bf5-7e9a575f3b9f">
                    <property name="local_mesure_unitheight" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.height" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[$P{IncInactive}]]></textFieldExpression>
            </textField>
        </band>
    </pageHeader>
    <columnHeader>
        <band height="43" splitType="Stretch">
            <staticText>
                <reportElement key="staticText-12" x="460" y="20" width="74" height="17" isRemoveLineWhenBlank="true"
                               uuid="fe9a0fd6-f045-42b7-a2dd-513172f89fea">
                    <printWhenExpression><![CDATA[!$P{countsOnly}]]></printWhenExpression>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[CustomerType]]></text>
            </staticText>
            <line>
                <reportElement key="line-1" x="0" y="38" width="535" height="1"
                               uuid="ec527789-747b-45e9-b284-72a4fadbbb17">
                    <property name="local_mesure_unitwidth" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.width" value="px"/>
                    <property name="local_mesure_unitx" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.x" value="px"/>
                </reportElement>
            </line>
            <staticText>
                <reportElement key="staticText-15" x="0" y="20" width="159" height="17" isRemoveLineWhenBlank="true"
                               uuid="bd283e7f-b77f-4a4e-8d7a-66a7624a8445">
                    <printWhenExpression><![CDATA[!$P{countsOnly}]]></printWhenExpression>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Customer]]></text>
            </staticText>
            <staticText>
                <reportElement key="staticText-16" x="160" y="20" width="300" height="17" isRemoveLineWhenBlank="true"
                               uuid="a990c5a6-d944-4e84-b221-f19e016690ce">
                    <printWhenExpression><![CDATA[!$P{countsOnly}]]></printWhenExpression>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Contact]]></text>
            </staticText>
            <staticText>
                <reportElement key="staticText-15" x="0" y="3" width="159" height="17"
                               uuid="a5e640e6-d3f4-4f3f-9435-1d1735382cae"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Location/Account Type]]></text>
            </staticText>
        </band>
    </columnHeader>
    <detail>
        <band height="15" splitType="Prevent">
            <printWhenExpression><![CDATA[(!$P{countsOnly})]]></printWhenExpression>
            <textField isStretchWithOverflow="true" isBlankWhenNull="false">
                <reportElement key="textField" isPrintRepeatedValues="false" x="11" y="0" width="141" height="14"
                               uuid="27102dc9-dbce-4f8b-84a6-991a4979ee2b">
                    <property name="local_mesure_unity" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.y" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[$F{customerName}+" ("+$F{cid}.toString()+")"]]></textFieldExpression>
            </textField>
            <textField isStretchWithOverflow="true" isBlankWhenNull="true">
                <reportElement key="textField" isPrintRepeatedValues="false" mode="Opaque" x="160" y="0" width="300"
                               height="14" uuid="cc2ff5c3-d7b7-413b-9229-8a03c612d013">
                    <property name="local_mesure_unity" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.y" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[$F{contact}.replaceAll("\n"," ")]]></textFieldExpression>
            </textField>
            <textField pattern="" isBlankWhenNull="false">
                <reportElement key="textField" x="0" y="0" width="11" height="14"
                               uuid="909c88d6-e636-48ec-97a8-ce214792a530">
                    <property name="local_mesure_unitwidth" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.width" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font size="10"/>
                </textElement>
                <textFieldExpression><![CDATA[$F{active}.booleanValue()?" ":"#"]]></textFieldExpression>
            </textField>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="460" y="0" width="74" height="14"
                               uuid="f90579dc-f8e4-4eb5-90f1-20862af14047">
                    <property name="local_mesure_unity" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.y" value="px"/>
                </reportElement>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textFieldExpression><![CDATA[$F{customerType}]]></textFieldExpression>
            </textField>
        </band>
    </detail>
    <columnFooter>
        <band splitType="Stretch"/>
    </columnFooter>
    <summary>
        <band height="228" splitType="Stretch">
            <property name="local_mesure_unitheight" value="pixel"/>
            <property name="com.jaspersoft.studio.unit.height" value="px"/>
            <line>
                <reportElement key="line-3" x="0" y="5" width="535" height="1"
                               uuid="ede3a4e1-d210-4e46-a219-094d50fafd7c">
                    <property name="local_mesure_unitx" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.x" value="px"/>
                    <property name="local_mesure_unitwidth" value="pixel"/>
                    <property name="com.jaspersoft.studio.unit.width" value="px"/>
                </reportElement>
            </line>
            <staticText>
                <reportElement key="staticText-17" x="10" y="12" width="140" height="20"
                               uuid="fea364f8-7167-4668-b74b-5212cce09e9b"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <text><![CDATA[Total Customers :]]></text>
            </staticText>
            <textField isBlankWhenNull="false">
                <reportElement key="textField" x="150" y="12" width="100" height="20"
                               uuid="bd8b9cef-4964-42bd-b6ba-d35382e1d7d8"/>
                <box>
                    <topPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <leftPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <bottomPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                    <rightPen lineWidth="0.0" lineStyle="Solid" lineColor="#000000"/>
                </box>
                <textElement>
                    <font isBold="true"/>
                </textElement>
                <textFieldExpression><![CDATA[$V{REPORT_COUNT}]]></textFieldExpression>
            </textField>
            <staticText>
                <reportElement x="104" y="34" width="327" height="20" isRemoveLineWhenBlank="true"
                               uuid="79ba5364-c15e-4ea2-93f4-9df52937dcaa">
                    <printWhenExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()==0)]]></printWhenExpression>
                </reportElement>
                <textElement textAlignment="Center">
                    <font size="14" isBold="true"/>
                </textElement>
                <text><![CDATA[No Data Found - Check Parameters]]></text>
            </staticText>
            <staticText>
                <reportElement x="0" y="57" width="535" height="171" isRemoveLineWhenBlank="true"
                               uuid="7437468e-fc10-430e-910b-a2f2fd65151c">
                    <printWhenExpression><![CDATA[$P{Explain}]]></printWhenExpression>
                </reportElement>
                <text><![CDATA[This report shows customers grouped by Practice Location/Account Type.
The selection fields entered have % added so that leaving them blank will find all, and entering say account type 'n' will include all customers with account types starting 'n' or 'N', and entering practice location '%branch' will find all customers with locations containing 'branch' or 'Branch'.
Null practice locations and account types will be shown as '--NONE--' and using the selection '-' will find these; ie setting the account type selection to '-' will find customers with no account type. 
You can also use a selection string starting ! to use a 'not like' selection - so account type '!c' will find customers with account types not starting with c, and  setting the customer type to '!-' will find all customers with a non-null customer type.
The counts shown in the Location/Account Type header lines are number of customers with the location and account type respectively.
A hash (#) in column1 indicates that this customer is inactive.
Unchecking the 'Show only counts' option displays the customer information, leaving this checked shows just the totals.]]></text>
            </staticText>
        </band>
    </summary>
</jasperReport>
