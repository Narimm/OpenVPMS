<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE page-specification
      PUBLIC "-//Apache Software Foundation//Tapestry Specification 4.0//EN"
      "http://jakarta.apache.org/tapestry/dtd/Tapestry_4_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<page-specification class="org.openvpms.component.presentation.tapestry.page.EditPage">
    <inject property="archetypeService" object="spring:archetypeService" />
    <inject property="entityService" object="spring:entityService" />
    <inject property="lookupService" object="spring:lookupService" />

    <property name="model" persist="session" />
    <property name="nextPage" persist="session" />
    <property name="currentFieldTracking" />
    <property name="callback" persist="session" />   
    
    <bean name="delegate" class="org.openvpms.component.presentation.tapestry.validation.OpenVpmsValidationDelegate" lifecycle="request" />
    
    <component id="errors" type="For" >
        <binding name="source" value="beans.delegate.fieldTracking" />
        <binding name="value" value="currentFieldTracking" />
    </component>
    <component id="error" type="Delegator" >
        <binding name="delegate" value="currentFieldTracking.errorRenderer" />
    </component>
    <component id="isInError" type="If" >
        <binding name="condition" value="currentFieldTracking.inError" />
        <binding name="element" value="literal:li" />
    </component>    
</page-specification>
