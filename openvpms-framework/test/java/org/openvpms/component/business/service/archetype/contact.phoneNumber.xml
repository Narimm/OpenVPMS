<archetypes>
    <archetype name="contact.phoneNumber.1.0"
               latest="true"
               type="org.openvpms.component.business.domain.im.party.Contact">
        <node name="name" type="java.lang.String" path="/name"
              hidden="true" derived="true" derivedValue="archetypeId/concept"/>
        <node name="description" type="java.lang.String"
              path="/description" hidden="true" derived="true"
              derivedValue="concat(/details/areacode,' ', /details/telephoneNumber)"/>

        <node name="areaCode" path="/details/areaCode"
              type="java.lang.String" minCardinality="0">
            <assertion name="regularExpression">
                <property name="expression" value="[0-9]*"/>
                <errorMessage>errorMessage</errorMessage>
            </assertion>
        </node>
        <node name="telephoneNumber"
              path="/details/telephoneNumber"
              type="java.lang.String">
            <assertion name="regularExpression">
                <property name="expression" value="[0-9]*"/>
                <errorMessage>errorMessage</errorMessage>
            </assertion>
        </node>
        <node name="preferred" path="/details/preferred"
              type="java.lang.Boolean" defaultValue="false()"/>
    </archetype>
</archetypes>
