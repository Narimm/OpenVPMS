<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE component-specification
      PUBLIC "-//Apache Software Foundation//Tapestry Specification 3.0//EN"
      "http://jakarta.apache.org/tapestry/dtd/Tapestry_3_0.dtd">
<!-- generated by Spindle, http://spindle.sourceforge.net -->

<component-specification class="org.openvpms.component.presentation.tapestry.component.CollectionEditor" allow-body="yes" allow-informal-parameters="yes">
	<description>Allows a user to view and edit a collection property</description>
    <parameter name="collection" direction="in" type="java.util.Collection" required="yes">
    	<description>The collection to be edited</description>
    </parameter>
    <parameter name="descriptor" direction="auto" type="org.openvpms.component.business.service.archetype.descriptor.NodeDescriptor" required="yes" />
    <parameter name="model" direction="in" type="java.lang.Object" default-value="page.model" />
    <parameter name="allowCreate" direction="in" type="boolean" default-value="true" />
    <parameter name="allowRemove" direction="in" type="boolean" default-value="true" />
    
    <property-specification name="currentObject" type="java.lang.Object" />
    <property-specification name="index" type="java.lang.Integer" />
    <component id="foreach" type="Foreach" >
    	<binding name="source">collection</binding>       
        <binding name="value">currentObject</binding> 
        <binding name="index">index</binding>
        <static-binding name="element">tr</static-binding>
    </component>
    <component id="any" type="Any" inherit-informal-parameters="yes" />
    <component id="removeCheckbox" type="Checkbox">
        <binding name="selected">selected[index]</binding>
    </component>
    <component id="editLink" type="EditLink">
        <binding name="model">currentObject</binding>
    </component>
    <component id="insert" type="Insert">
        <binding name="value">currentObject</binding>
    </component>
    <component id="allowCreate" type="Conditional">
        <binding name="condition">allowCreate</binding>
    </component>
    <component id="allowRemove" type="Conditional">
        <binding name="condition">allowRemove</binding>
    </component>
    <component id="addbutton" type="Submit">
        <binding name="listener" >listeners.showAddPage</binding>
    </component>
    <component id="removebutton" type="Submit">
        <binding name="listener" >listeners.remove</binding>
    </component>  
</component-specification>
